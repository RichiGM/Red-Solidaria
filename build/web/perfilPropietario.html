<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Red Solidaria - Mi Perfil</title>
    <link rel="shortcut icon" href="img/logo4.png" type="image/x-icon">
    <link href="css/css.css" rel="stylesheet" type="text/css">
    <link href="css/perfil.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
</head>
<body>
    <div id="header-container"></div>

    <main class="profile-main-container">
        <!-- Banner y foto de perfil -->
        <div class="profile-banner">
            <button class="edit-banner-btn" title="Cambiar imagen de portada">
                <i class="fas fa-camera"></i>
            </button>
            <div class="profile-avatar-container">
                <div class="photo-circle">
                    <img src="img/default.jpg" alt="Foto de perfil">
                </div>
                <button class="edit-avatar-btn" title="Cambiar foto de perfil">
                    <i class="fas fa-camera"></i>
                </button>
            </div>
        </div>

        <!-- Información básica del perfil -->
        <div class="profile-header-info">
            <div class="profile-name-container">
                <h1 class="profile-name"> </h1>
                <button class="edit-profile-btn" onclick="window.location.href='Cuenta.html'">
                    <i class="fas fa-edit"></i> Editar perfil
                </button>
            </div>
            <p class="profile-email"></p>
            <div class="profile-stats">
                <div class="stat-item">
                    <span class="stat-value"></span>
                    <span class="stat-label">Calificación</span>
                    <div class="stars"></div>
                </div>
                <div class="stat-item">
                    <span class="stat-value"></span>
                    <span class="stat-label">Servicios</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value"></span>
                    <span class="stat-label">Intercambios</span>
                </div>
            </div>
        </div>

        <!-- Sección principal con columnas -->
        <div class="profile-content">
            <!-- Columna izquierda -->
            <div class="profile-sidebar">
                <div class="profile-card">
                    <div class="card-header">
                        <h3>Acerca de mí</h3>
                        <button class="edit-btn" onclick="window.location.href='Cuenta.html'" title="Editar información">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                    <div class="card-body">
                        <p></p>
                    </div>
                </div>

                <div class="profile-card">
                    <div class="card-header">
                        <h3>Habilidades</h3>
                        <button class="openModalBtn" title="Editar habilidades">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="skills-container" id="skills-container">
                            <!-- Habilidades se cargarán aquí de forma asíncrona -->
                        </div>
                    </div>
                </div>
                <!-- Modal -->
                <div id="skillsModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2>Seleccionar Habilidades</h2>
                        <input type="text" id="searchSkill" placeholder="Buscar habilidad...">
                        <ul id="skillsList" class="skills-list"></ul>
                        <button id="saveSkills">Guardar</button>
                    </div>
                </div>


                <div class="profile-card">
                    <div class="card-header">
                        <h3>Contacto</h3>
                        <button class="edit-btn" title="Editar contacto">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span></span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span></span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Columna derecha (contenido principal) -->
            <div class="profile-main">
                <!-- Publicar nuevo servicio -->
                <div class="new-service-card">
                    <div class="new-service-header">
                        <div class="photo-circle user-avatar-small">
                            <img src="img/default.jpg" alt="Foto de perfil">
                        </div>
                        <button class="edit-profile-btn" id="addServiceBtn">
                            ¿Qué servicio quieres ofrecer hoy?
                        </button>
                    </div>
                    <div class="new-service-actions">
                        <button class="edit-profile-btn">
                            <i class="fas fa-briefcase"></i> Servicio
                        </button>
                        <button class="edit-profile-btn">
                            <i class="fas fa-image"></i> Foto
                        </button>
                        <button class="edit-profile-btn">
                            <i class="fas fa-chart-line"></i> Estadísticas
                        </button>
                    </div>
                </div>

                <!-- Filtros de servicios -->
                <div class="services-filter">
                    <button class="filter-btn active">Todos</button>
                    <button class="filter-btn">Activos</button>
                    <button class="filter-btn">Completados</button>
                    <button class="filter-btn">Guardados</button>
                </div>

                <!-- Servicios publicados -->
                <div class="services-container">
                    <!-- Aquí se agregarán los servicios de forma dinámica -->
                    <div class="services-list" id="servicesList">
                        <div class="service-card">
                            <h3>Ejemplo de Servicio</h3>
                            <p><strong>Título:</strong> Servicio de Prueba</p>
                            <p><strong>Descripción:</strong> Este es un servicio de ejemplo.</p>
                            <p><strong>Modalidad:</strong> Virtual</p>
                            <p><strong>Estatus:</strong> Activo</p>
                            <button class="edit-icon"><i class="fas fa-edit"></i></button>
                            <button class="delete-icon"><i class="fas fa-trash-alt"></i></button>
                        </div>
                        <!-- Más servicios se añadirán vía API -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal para agregar servicio (sin estatus) -->
    <div id="addServiceModal" class="modal">
        <div class="modal-content service-modal">
            <span class="close-btn" onclick="closeModalById('addServiceModal')">×</span>
            <h2>Agregar Nuevo Servicio</h2>
            <form id="addServiceForm" class="service-form">
                <label for="serviceTitle">Título *</label>
                <input type="text" id="serviceTitle" required>

                <label for="serviceDescription">Descripción *</label>
                <textarea id="serviceDescription" required></textarea>

                <label for="serviceModality">Modalidad *</label>
                <select id="serviceModality" required>
                    <option value="">Seleccione una modalidad</option>
                    <option value="virtual">Virtual</option>
                    <option value="presencial">Presencial</option>
                </select>

                <button type="submit" class="btn">Guardar Servicio</button>
            </form>
        </div>
    </div>

    <!-- Modal para editar servicio (con estatus) -->
    <div id="editServiceModal" class="modal">
                <div class="modal-content service-modal">
                    <span class="close-btn" onclick="closeModalById('editServiceModal')">×</span>
                    <h2>Editar Servicio</h2>
                    <form id="editServiceForm" class="service-form">
                        <input type="hidden" id="editServiceId">
                        <label for="editServiceTitle">Título *</label>
                        <input type="text" id="editServiceTitle" required>

                        <label for="editServiceDescription">Descripción *</label>
                        <textarea id="editServiceDescription" required></textarea>

                        <label for="editServiceModality">Modalidad *</label>
                        <select id="editServiceModality" required>
                            <option value="">Seleccione una modalidad</option>
                            <option value="virtual">Virtual</option>
                            <option value="presencial">Presencial</option>
                        </select>

                        <label for="editServiceStatus">Estatus *</label>
                        <select id="editServiceStatus" required>
                            <option value="">Seleccione un estatus</option>
                            <option value="activo">Activo</option>
                            <option value="inactivo">Inactivo</option>
                        </select>

                        <button type="submit" class="btn">Guardar Cambios</button>
                    </form>
                </div>
            </div>

    <div id="footer-container"></div>

    <script src="js/loaderComponents.js" type="text/javascript"></script>
    <script src="js/jsPerfil.js" type="text/javascript"></script>
    <script src="js/misServicios.js" type="text/javascript"></script>
    <script src="js/habilidades.js" type="text/javascript"></script>
</body>
</html>